{"id":"39e0ea3b-16b6-4fa6-a8ec-38e0afade107","code":"elasticsearch","document_type":"node_type","data":{"code":"elasticsearch","name":"Elasticsearch","group":"Elasticsearch","react_component_type":"AngieDefaultNode","json_data_schema":"{\n    \"type\": \"object\",\n    \"required\": [\n        \"instance_name\"\n    ],\n    \"properties\": {\n        \"instance_name\": {\n            \"type\": \"string\"\n        },\n        \"indexName\": {\n            \"type\": \"string\"\n        },\n        \"postProcessHitsToString\": {\n            \"title\": \"Post-process Hits a String\",\n            \"type\": \"boolean\",\n            \"default\": false\n        },\n        \"query_params\": {\n            \"title\": \"Opciones\",\n            \"type\": \"object\",\n            \"properties\": {\n                \"operation\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"extra_query_params\": {\n            \"title\": \"Parámetros Extra\",\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"required\": [\n                    \"code\",\n                    \"value\"\n                ],\n                \"properties\": {\n                    \"code\": {\n                        \"title\": \"Clave\",\n                        \"type\": \"string\"\n                    },\n                    \"value\": {\n                        \"title\": \"Valor\",\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}","json_ui_schema":"{\n    \"ui:classNames\": \"row\",\n    \"instance_name\": {\n        \"ui:classNames\": \"col-6\",\n        \"ui:help\": \"Nombre de la instancia en la configuración.\"\n    },\n    \"indexName\": {\n        \"ui:classNames\": \"col-6\",\n        \"ui:help\": \"Indice sobre el que realizar la acción.\"\n    },\n    \"postProcessHitsToString\": {\n        \"ui:widget\": \"Switch\",\n        \"ui:classNames\": \"col-3\",\n        \"ui:help\": \"El resultado de la consulta a Elastic lo convierte de SearchHits a String.\"\n    },\n    \"query_params\": {\n        \"ui:classNames\": \"row\",\n        \"operation\": {\n            \"ui:classNames\": \"col-6\",\n            \"ui:help\": \"Elasticsearch camel operation. https://camel.apache.org/components/3.14.x/elasticsearch-rest-component.html#_message_operations\"\n        }\n    }\n}","xml_template":"<route  id=\"{{source}}\">\n    <from uri=\"direct:{{source}}\"/>\n    <setHeader name=\"ES_NAME\">\n        <constant>\n            {{instance_name}}\n        </constant>\n    </setHeader>\n    {{#if (eq query_params.operation \"Search\")}}\n    <convertBodyTo type=\"String\"/>\n    {{/if}}\n    <toD uri=\"${header.ES_NAME}://elasticsearch?indexName={{indexName}}&amp;{{querystring query_params extra_query_params true}}\"/>\n    {{#if (eq postProcessHitsToString true)}}\n        <process ref=\"elasticSearchHitsToString\"/>\n    {{/if}}\n    {{generateDestination target}}\n</route>","defaults":"{\n    \"query_params\": {\n        \"operation\": \"Search\"\n    },\n    \"instance_name\": \"elasticsearch-custom\"\n}","package_code":"angie.core","package_version":"1.1.0","id":"39e0ea3b-16b6-4fa6-a8ec-38e0afade107","filename":"node_type.elasticsearch.json"},"package_code":null,"package_version":null}