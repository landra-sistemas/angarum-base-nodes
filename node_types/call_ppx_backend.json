{"id":"395b5bae-a64b-49ce-922a-2bc26e818057","code":"call_ppx_backend","document_type":"node_type","data":{"code":"call_ppx_backend","name":"Call PPX Backend","group":"PPX Backend","react_component_type":"AngieDefaultNode","json_data_schema":"{\n    \"description\": \"Call PPX Backend\",\n    \"type\": \"object\",\n    \"required\": [\n        \"label\"\n    ],\n    \"properties\": {\n        \"label\": {\n            \"type\": \"string\"\n        },\n        \"path\": {\n            \"title\": \"Ruta\",\n            \"type\": \"string\"\n        },\n        \"scheduled\": {\n            \"title\": \"Scheduled\",\n            \"type\": \"boolean\",\n            \"default\": false\n        },\n        \"cron\": {\n            \"title\": \"Cron expression\",\n            \"type\": \"string\"\n        },\n        \"query_params\": {\n            \"title\": \"Opciones\",\n            \"type\": \"object\",\n            \"properties\": {\n                \"httpMethod\": {\n                    \"type\": \"string\",\n                    \"default\": \"GET\",\n                    \"title\": \"Método\",\n                    \"enum\": [\n                        \"GET\",\n                        \"POST\",\n                        \"PUT\",\n                        \"DELETE\",\n                        \"HEAD\",\n                        \"OPTIONS\",\n                        \"TRACE\",\n                        \"PATCH\"\n                    ]\n                },\n                \"bridgeEndpoint\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"title\": \"Puentear Endpoint\"\n                },\n                \"copyHeaders\": {\n                    \"type\": \"boolean\",\n                    \"default\": true,\n                    \"title\": \"Copiar IN Headers\"\n                },\n                \"ignoreResponseBody\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"title\": \"Ignorar Respuesta\"\n                }\n            }\n        },\n        \"request_params\": {\n            \"title\": \"Request\",\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"required\": [\n                    \"code\",\n                    \"value\"\n                ],\n                \"properties\": {\n                    \"code\": {\n                        \"title\": \"Clave\",\n                        \"type\": \"string\"\n                    },\n                    \"value\": {\n                        \"title\": \"Valor\",\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        },\n        \"extra_query_params\": {\n            \"title\": \"Parámetros extra\",\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"required\": [\n                    \"code\",\n                    \"value\"\n                ],\n                \"properties\": {\n                    \"code\": {\n                        \"title\": \"Clave\",\n                        \"type\": \"string\"\n                    },\n                    \"value\": {\n                        \"title\": \"Valor\",\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}","json_ui_schema":"{\n    \"ui:classNames\": \"row\",\n    \"label\": {\n        \"ui:classNames\": \"col-12\"\n    },\n    \"path\": {\n        \"ui:classNames\": \"col-6\"\n    },\n    \"scheduled\": {\n        \"ui:widget\": \"checkbox\",\n        \"ui:classNames\": \"col-1\"\n    },\n    \"cron\": {\n        \"condition\": \"scheduled=true\",\n        \"ui:classNames\": \"col-2\"\n    },\n    \"request_params\": {\n        \"ui:classNames\": \"full-width\"  \n    },\n    \"query_params\": {\n        \"ui:classNames\": \"row full-width\",\n        \"httpMethod\": {\n            \"ui:classNames\": \"col-4\"\n        },\n        \"bridgeEndpoint\": {\n            \"ui:widget\": \"checkbox\",\n            \"ui:classNames\": \"col-2\"\n        },\n        \"copyHeaders\": {\n            \"ui:widget\": \"checkbox\",\n            \"ui:classNames\": \"col-2\"\n        },\n        \"ignoreResponseBody\": {\n            \"ui:widget\": \"checkbox\",\n            \"ui:classNames\": \"col-2\"\n        }\n    },\n    \"extra_query_params\": {\n        \"ui:classNames\": \"row\"\n    }\n}","xml_template":"<route  id=\"{{source}}\">\n    {{#if (ne scheduled true)}}\n        <from uri=\"direct:{{source}}\"/>\n    {{/if}}\n    {{#if (eq scheduled true)}}\n        <from uri=\"cron:{{source}}?schedule={{cron}}\"/>\n    {{/if}}\n    {{applyUnmarshal input_format input_format_options}}\n    {{setHeader \"Exchange.CONTENT_TYPE\" content_type \"constant\"}}\n    {{#if (not_empty request_params)}}\n        {{setHeader \"Exchange.HTTP_QUERY\" (request_querystring request_params) \"simple\"}}\n    {{/if}}\n    <toD uri=\"http://{{hostname}}:{{port}}{{path}}?authMethod=Basic&amp;authUsername={{username}}&amp;authPassword={{password}}&amp;authenticationPreemptive=true&amp;{{querystring query_params extra_query_params true}}\"/>\n    {{applyUnmarshal output_format output_format_options}}\n    {{applyMarshal output_format output_format_options}}\n    {{generateDestination target}}\n</route>","defaults":"{\n    \"protocol\": \"http\",\n    \"hostname\": \"{{GLOBAL:API_HOST}}\",\n    \"port\": \"{{GLOBAL:API_PORT}}\",\n    \"username\": \"{{GLOBAL:API_USERNAME}}\",\n    \"password\": \"{{GLOBAL:API_PASSWORD}}\",\n    \"path\": \"\",\n    \"input_format\": \"raw\",\n    \"output_format\": \"raw\"\n}","id":"395b5bae-a64b-49ce-922a-2bc26e818057","filename":"call_ppx_backend.json"},"package_code":null,"package_version":null}