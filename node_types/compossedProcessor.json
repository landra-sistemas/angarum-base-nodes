{"id":"87c95c9c-d326-4844-9bb5-5e7624fcec81","code":"compossedProcessor","document_type":"node_type","data":{"code":"compossedProcessor","name":"Compossed Processor","group":"Flujo","react_component_type":"MultiTargetNode","json_data_schema":"{\n    \"title\": \"Compossed Processor\",\n    \"description\": \"Separa el mensaje en función de la configuración y envía cada elemento al primer handle. Una vez finalizado el procesado los unifica y lo manda al segundo.\",\n    \"type\": \"object\",\n    \"required\": [\n        \"label\"\n    ],\n    \"properties\": {\n        \"label\": {\n            \"type\": \"string\"\n        },\n        \"delimiter\": {\n            \"type\": \"string\",\n            \"title\": \"Separador\"\n        },\n        \"streaming\": {\n            \"type\": \"boolean\",\n            \"default\": false,\n            \"title\": \"Streaming mode\"\n        },\n        \"tokenize\": {\n            \"type\": \"boolean\",\n            \"default\": false,\n            \"title\": \"Tokernizer mode\"\n        },\n        \"parallel\": {\n            \"type\": \"boolean\",\n            \"default\": false,\n            \"title\": \"Parallel mode\"\n        },\n        \"tokenize_options\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"token\": {\n                    \"type\": \"string\",\n                    \"title\": \"Token\"\n                },\n                \"regex\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"title\": \"Regex\"\n                },\n                \"xml\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"title\": \"XML\"\n                },\n                \"trim\": {\n                    \"type\": \"boolean\",\n                    \"default\": true,\n                    \"title\": \"Trim\"\n                },\n                \"group\": {\n                    \"type\": \"string\",\n                    \"title\": \"Group Size\"\n                }\n            }\n        }\n    }\n}","json_ui_schema":"{\n    \"ui:classNames\": \"row\",\n    \"label\": {\n        \"ui:classNames\": \"col-4\"\n    },\n    \"streaming\": {\n        \"ui:widget\": \"checkbox\",\n        \"ui:classNames\": \"col-4\",\n        \"ui:help\": \"Separa los mensajes de forma directa consumiendo menos memoria.\"\n    },\n    \"delimiter\": {\n        \"ui:classNames\": \"col-4\",\n        \"ui:help\": \"Caracter separador para los body de tipo String. Default: (,)\"\n    },\n    \"tokenize\": {\n        \"ui:widget\": \"checkbox\",\n        \"ui:classNames\": \"col-4\",\n        \"ui:help\": \"Habilitar modo tokenizer ignorando la propiedad delimiter.\"\n    },\n    \"parallel\": {\n        \"ui:widget\": \"checkbox\",\n        \"ui:classNames\": \"col-4\",\n        \"ui:help\": \"Procesa los mensajes separados en paralelo. \"\n    },\n    \"tokenize_options\": {\n        \"condition\": \"tokenize=true\",\n        \"token\": {\n            \"ui:classNames\": \"col-4\",\n            \"ui:help\": \"Token a utilizar para el procesado\"\n        },\n        \"regex\": {\n            \"ui:widget\": \"checkbox\",\n            \"ui:classNames\": \"col-4\",\n            \"ui:help\": \"El token se procesará como una expr. regular\"\n        },\n        \"xml\": {\n            \"ui:widget\": \"checkbox\",\n            \"ui:classNames\": \"col-4\",\n            \"ui:help\": \"El token se procesará como una expr. xpath. Solo body XML\"\n        },\n        \"trim\": {\n            \"ui:widget\": \"checkbox\",\n            \"ui:classNames\": \"col-4\",\n            \"ui:help\": \"Eliminar espacios en blanco y saltos al inicio y final del mensaje resultante\"\n        },\n        \"group\": {\n            \"ui:classNames\": \"col-4\",\n            \"ui:help\": \"Número de elementos para agrupar. Util para agrupar lineas (\\\\n) por bloques, etc.\"\n        }\n    }\n}","xml_template":"<route  id=\"{{source}}\">\n    <from uri=\"direct:{{source}}\"/>\n    {{applyUnmarshal input_format input_format_options}}\n    <split streaming=\"{{streaming}}\" delimiter=\"{{delimiter}}\" parallelProcessing=\"{{parallel}}\">\n        <simple>\n            ${body}\n        </simple>\n        {{#if (eq tokenize true)}}\n        <tokenize token=\"{{tokenize_options.token}}\" regex=\"{{tokenize_options.regex}}\" xml=\"{{tokenize_options.xml}}\" trim=\"{{tokenize_options.trim}}\" group=\"{{tokenize_options.group}}\"/>\n        {{/if}}\n        \n        {{applyMarshal output_format output_format_options}} \n        {{generateDestination handles.[0].to}}\n        \n    </split>\n    {{applyUnmarshal input_format input_format_options}}\n    {{applyMarshal output_format output_format_options}}\n    \n    {{generateDestination handles.[1].to}}\n    \n</route>","defaults":"{\n    \"handles\": [\n        {\n            \"id\": \"out0\",\n            \"to\": \"\",\n            \"title\": \"Mensajes Separados\",\n            \"color\": \"blue\"\n        },\n        {\n            \"id\": \"out1\",\n            \"to\": \"\",\n            \"color\": \"green\",\n            \"title\": \"Mensaje unificado\"\n        }\n    ],\n    \"input_format\": \"raw\",\n    \"output_format\": \"raw\",\n    \"streaming\": true,\n    \"delimiter\": \",\",\n    \"tokenize\": false,\n    \"parallel\": false,\n    \"tokenize_options\": {\n        \"token\": \"\",\n        \"regex\": false,\n        \"xml\": false,\n        \"trim\": true,\n        \"group\": \"\"\n    }\n}","id":"87c95c9c-d326-4844-9bb5-5e7624fcec81","name_":"Enrich CLONED","handles":"in,out","package_code":"angie.core","package_version":"1.1.0","filename":"composedProcessor.json"},"package_code":null,"package_version":null}