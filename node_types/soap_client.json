{
  "id" : "dc98c676-2a54-4ee8-bc08-8c5d601bd0f3",
  "code" : "soap_client",
  "document_type" : "node_type",
  "data" : {
    "code" : "soap_client",
    "name" : "SOAP Client",
    "group" : "Comunicaciones",
    "react_component_type" : "AngieDefaultNode",
    "json_data_schema" : "{\n    \"description\": \"XML to JSON\",\n    \"type\": \"object\",\n    \"required\": [\n        \"label\",\n        \"endpoint_url\",\n        \"output_format\",\n        \"code\"\n    ],\n    \"properties\": {\n        \"label\": {\n            \"title\": \"Name\",\n            \"type\": \"string\"\n        },\n        \"endpoint_url\": {\n            \"title\": \"URL Endpoint\",\n            \"type\": \"string\"\n        },\n        \"secure\": {\n           \"title\": \"WSSecurity\",\n            \"type\": \"boolean\"\n        },\n        \"soapAction\": {\n            \"title\": \"SOAP Action\",\n            \"type\": \"string\"\n        },\n        \"sslContextParameters\": {\n            \"type\": \"string\",\n            \"title\": \"Certificado\"\n        },\n        \"security_action\": {\n          \"type\": \"string\",\n          \"title\": \"Security Action\"\n        },\n        \"code\": {\n            \"title\": \"Mensaje\",\n            \"type\": \"string\"\n        },\n        \"cxf_query_params\": {\n            \"title\": \"Opciones CXF\",\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"required\": [\n                    \"code\",\n                    \"value\"\n                ],\n                \"properties\": {\n                    \"code\": {\n                        \"title\": \"Clave\",\n                        \"type\": \"string\"\n                    },\n                    \"value\": {\n                        \"title\": \"Valor\",\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}",
    "json_ui_schema" : "{\n    \n    \"ui:classNames\": \"row\",\n    \"label\": {\n        \"ui:classNames\": \"col-12\"\n    },\n    \"endpoint_url\": {\n        \"ui:classNames\": \"col-9\"\n    },\n    \"secure\": {\n        \"ui:widget\": \"Switch\",\n        \"ui:classNames\": \"col-3\"\n    },\n    \"soapAction\": {\n        \"ui:classNames\": \"col-12\"\n    },\n    \"code\": {\n        \"ui:classNames\": \"col-12\",\n        \"ui:widget\": \"AceEditorWidget\",\n        \"ui:mode\": \"xml\",\n        \"ui:height\": \"200px\"\n    },\n    \"sslContextParameters\": {\n        \"ui:widget\": \"SelectRemoteWidget\",\n        \"ui:selectOptions\": \"/api/certificates/list#value=certId&label=commonName\",\n        \"condition\": \"secure=true\",\n        \"ui:classNames\": \"col-4\"\n    },\n    \"security_action\":{\n        \"condition\": \"secure=true\",\n        \"ui:classNames\": \"col-4\"\n    }\n  \n}",
    "xml_template" : "<route id=\"{{source}}\">\n    <from uri=\"direct:{{source}}\" />\n    {{applyUnmarshal input_format input_format_options}}\n    <setBody>\n        <simple trim=\"false\">\n<![CDATA[{{safe code}}]]>\n        </simple>\n    </setBody>\n    {{#if (not_empty soapAction)}}\n    <setHeader name=\"SOAPAction\">\n        <constant>\n            {{soapAction}}\n        </constant>\n    </setHeader>\n    {{/if}}\n    {{#if secure}}\n      \n      <setHeader name=\"CERT_ALIAS\">\n          <constant>\n              {{sslContextParameters}}\n          </constant>\n      </setHeader>\n      <setHeader name=\"CERT_P12_PATH\">\n        <constant>\n          {{safe '{{angarum:user.dir}}/{{angarum:angarum.keystores_path}}'}}/cert_{{sslContextParameters}}.p12\n        </constant>\n      </setHeader>\n      <setHeader name=\"SOAP_ENDPOINT\">\n        <constant>\n          {{endpoint_url}}\n        </constant>\n      </setHeader>\n      <setHeader name=\"SECURITY_ACTION\">\n        <constant>\n          {{security_action}}\n        </constant>\n      </setHeader>\n  \n      <process ref=\"dynamicSoapSignerProcessor\"/>\n    {{else}}\n      <to uri=\"cxf://{{endpoint_url}}{{querystring cxf_query_params}}\"/>\n    {{/if}}\n    \n    {{applyUnmarshal output_format output_format_options}}\n    {{applyMarshal output_format output_format_options}}\n\n    {{generateDestination target}}\n</route>",
    "defaults" : "{\n    \"secure\": false,\n    \"security_action\": \"Signature Timestamp\",\n    \"cxf_query_params\": [\n      {\n        \"code\": \"dataFormat\",\n        \"value\": \"RAW\"\n      }],\n    \"input_format\": \"raw\",\n    \"output_format\": \"raw\"\n}",
    "id" : "dc98c676-2a54-4ee8-bc08-8c5d601bd0f3",
    "name_" : "SOAP Client Test XML2 CLONED",
    "handles" : "in,out",
    "package_code" : "angie.core",
    "package_version" : "1.1.0"
  },
  "package_code" : null,
  "package_version" : null
}